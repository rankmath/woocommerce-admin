(window.__wcAdmin_webpackJsonp=window.__wcAdmin_webpackJsonp||[]).push([[16],{506:function(e,t,o){"use strict";o.r(t);var r=o(0),a=o(2),c=o(1),i=o.n(c),n=o(28),s=o(8),l=o(528),m=o(59);const{addCesSurveyForAnalytics:d}=Object(s.dispatch)(m.c),u=Object(n.applyFilters)("woocommerce_admin_variations_report_charts",[{key:"items_sold",label:Object(a.__)("Items sold","woocommerce-admin"),order:"desc",orderby:"items_sold",type:"number"},{key:"net_revenue",label:Object(a.__)("Net sales","woocommerce-admin"),order:"desc",orderby:"net_revenue",type:"currency"},{key:"orders_count",label:Object(a.__)("Orders","woocommerce-admin"),order:"desc",orderby:"orders_count",type:"number"}]),b=Object(n.applyFilters)("woocommerce_admin_variations_report_filters",[{label:Object(a.__)("Show","woocommerce-admin"),staticParams:["chartType","paged","per_page"],param:"filter-variations",showFilters:()=>!0,filters:[{label:Object(a.__)("All variations","woocommerce-admin"),chartMode:"item-comparison",value:"all"},{label:Object(a.__)("Single variation","woocommerce-admin"),value:"select_variation",subFilters:[{component:"Search",value:"single_variation",path:["select_variation"],settings:{type:"variations",param:"variations",getLabels:l.g,labels:{placeholder:Object(a.__)("Type to search for a variation","woocommerce-admin"),button:Object(a.__)("Single variation","woocommerce-admin")}}}]},{label:Object(a.__)("Comparison","woocommerce-admin"),chartMode:"item-comparison",value:"compare-variations",settings:{type:"variations",param:"variations",getLabels:l.g,labels:{helpText:Object(a.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:Object(a.__)("Search for variations to compare","woocommerce-admin"),title:Object(a.__)("Compare Variations","woocommerce-admin"),update:Object(a.__)("Compare","woocommerce-admin")},onClick:d}},{label:Object(a.__)("Advanced filters","woocommerce-admin"),value:"advanced"}]}]),_=Object(n.applyFilters)("woocommerce_admin_variations_report_advanced_filters",{title:Object(a._x)("Variations match {{select /}} filters","A sentence describing filters for Variations. See screen shot for context: https://cloudup.com/cSsUY9VeCVJ","woocommerce-admin"),filters:{attribute:{allowMultiple:!0,labels:{add:Object(a.__)("Attribute","woocommerce-admin"),placeholder:Object(a.__)("Search attributes","woocommerce-admin"),remove:Object(a.__)("Remove attribute filter","woocommerce-admin"),rule:Object(a.__)("Select a product attribute filter match","woocommerce-admin"),title:Object(a.__)("{{title}}Attribute{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(a.__)("Select attributes","woocommerce-admin")},rules:[{value:"is",label:Object(a._x)("Is","product attribute","woocommerce-admin")},{value:"is_not",label:Object(a._x)("Is Not","product attribute","woocommerce-admin")}],input:{component:"ProductAttribute"}},category:{labels:{add:Object(a.__)("Categories","woocommerce-admin"),placeholder:Object(a.__)("Search categories","woocommerce-admin"),remove:Object(a.__)("Remove categories filter","woocommerce-admin"),rule:Object(a.__)("Select a category filter match","woocommerce-admin"),title:Object(a.__)("{{title}}Category{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(a.__)("Select categories","woocommerce-admin")},rules:[{value:"includes",label:Object(a._x)("Includes","categories","woocommerce-admin")},{value:"excludes",label:Object(a._x)("Excludes","categories","woocommerce-admin")}],input:{component:"Search",type:"categories",getLabels:l.a}},product:{labels:{add:Object(a.__)("Products","woocommerce-admin"),placeholder:Object(a.__)("Search products","woocommerce-admin"),remove:Object(a.__)("Remove products filter","woocommerce-admin"),rule:Object(a.__)("Select a product filter match","woocommerce-admin"),title:Object(a.__)("{{title}}Product{{/title}} {{rule /}} {{filter /}}","woocommerce-admin"),filter:Object(a.__)("Select products","woocommerce-admin")},rules:[{value:"includes",label:Object(a._x)("Includes","products","woocommerce-admin")},{value:"excludes",label:Object(a._x)("Excludes","products","woocommerce-admin")}],input:{component:"Search",type:"variableProducts",getLabels:l.d}}}});var p=o(536),v=o(534),j=o(530),O=o(537),y=o(559),w=o(532);const f=e=>{const{itemsLabel:t,mode:o}=(e=>{let{query:t}=e;const o="compare-variations"===t["filter-variations"]&&t.variations&&t.variations.split(",").length>1;return{compareObject:"variations",itemsLabel:Object(a.__)("%d variations","woocommerce-admin"),mode:o?"item-comparison":"time-comparison"}})(e),{path:c,query:i,isError:n,isRequesting:s}=e;if(n)return Object(r.createElement)(j.a,null);const l={...i};return"item-comparison"===o&&(l.segmentby="variation"),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(w.a,{query:i,path:c,filters:b,advancedFilters:_,report:"variations"}),Object(r.createElement)(O.a,{mode:o,charts:u,endpoint:"variations",isRequesting:s,query:l,selectedChart:Object(p.a)(i.chart,u),filters:b,advancedFilters:_}),Object(r.createElement)(v.a,{charts:u,mode:o,filters:b,advancedFilters:_,endpoint:"variations",isRequesting:s,itemsLabel:t,path:c,query:l,selectedChart:Object(p.a)(l.chart,u)}),Object(r.createElement)(y.a,{isRequesting:s,query:i,filters:b,advancedFilters:_}))};f.propTypes={path:i.a.string.isRequired,query:i.a.object.isRequired};t.default=f},528:function(e,t,o){"use strict";o.d(t,"e",(function(){return d})),o.d(t,"a",(function(){return u})),o.d(t,"b",(function(){return b})),o.d(t,"c",(function(){return _})),o.d(t,"d",(function(){return p})),o.d(t,"f",(function(){return v})),o.d(t,"h",(function(){return j})),o.d(t,"g",(function(){return O}));var r=o(16),a=o(19),c=o.n(a),i=o(5),n=o(13),s=o(12),l=o(529),m=o(23);function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.identity;return function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;const i="function"==typeof e?e(a):e,s=Object(n.getIdsFromQuery)(o);if(s.length<1)return Promise.resolve([]);const l={include:s.join(","),per_page:s.length};return c()({path:Object(r.addQueryArgs)(i,l)}).then(e=>e.map(t))}}d(s.NAMESPACE+"/products/attributes",e=>({key:e.id,label:e.name}));const u=d(s.NAMESPACE+"/products/categories",e=>({key:e.id,label:e.name})),b=d(s.NAMESPACE+"/coupons",e=>({key:e.id,label:e.code})),_=d(s.NAMESPACE+"/customers",e=>({key:e.id,label:e.name})),p=d(s.NAMESPACE+"/products",e=>({key:e.id,label:e.name})),v=d(s.NAMESPACE+"/taxes",e=>({key:e.id,label:Object(l.a)(e)}));function j(e){let{attributes:t,name:o}=e;const r=Object(m.d)("variationTitleAttributesSeparator"," - ");if(o&&o.indexOf(r)>-1)return o;const a=(t||[]).map(e=>{let{option:t}=e;return t}).join(", ");return a?o+r+a:o}const O=d(e=>{let{products:t}=e;return t?s.NAMESPACE+`/products/${t}/variations`:s.NAMESPACE+"/variations"},e=>({key:e.id,label:j(e)}))},529:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var r=o(2);function a(e){return[e.country,e.state,e.name||Object(r.__)("TAX","woocommerce-admin"),e.priority].map(e=>e.toString().toUpperCase().trim()).filter(Boolean).join("-")}},540:function(e,t,o){"use strict";function r(e,t,o){return!!t&&(e&&t<=o==="instock")}o.d(t,"a",(function(){return r}))},559:function(e,t,o){"use strict";var r=o(0),a=o(2),c=o(5),i=o(22),n=o(13),s=o(122),l=o(15),m=o(533),d=o(540),u=o(527),b=o(528),_=o(23);const p=Object(_.d)("manageStock","no"),v=Object(_.d)("stockStatuses",{});class j extends r.Component{constructor(){super(),this.getHeadersContent=this.getHeadersContent.bind(this),this.getRowsContent=this.getRowsContent.bind(this),this.getSummary=this.getSummary.bind(this)}getHeadersContent(){return[{label:Object(a.__)("Product / Variation title","woocommerce-admin"),key:"name",required:!0,isLeftAligned:!0},{label:Object(a.__)("SKU","woocommerce-admin"),key:"sku",hiddenByDefault:!0,isSortable:!0},{label:Object(a.__)("Items sold","woocommerce-admin"),key:"items_sold",required:!0,defaultSort:!0,isSortable:!0,isNumeric:!0},{label:Object(a.__)("Net sales","woocommerce-admin"),screenReaderLabel:Object(a.__)("Net sales","woocommerce-admin"),key:"net_revenue",required:!0,isSortable:!0,isNumeric:!0},{label:Object(a.__)("Orders","woocommerce-admin"),key:"orders_count",isSortable:!0,isNumeric:!0},"yes"===p?{label:Object(a.__)("Status","woocommerce-admin"),key:"stock_status"}:null,"yes"===p?{label:Object(a.__)("Stock","woocommerce-admin"),key:"stock",isNumeric:!0}:null].filter(Boolean)}getRowsContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{query:t}=this.props,o=Object(n.getPersistedQuery)(t),{formatAmount:m,formatDecimal:u,getCurrencyConfig:_}=this.context;return Object(c.map)(e,e=>{const{items_sold:t,net_revenue:c,orders_count:j,product_id:O,variation_id:y}=e,w=e.extended_info||{},{stock_status:f,stock_quantity:h,low_stock_amount:g,deleted:S,sku:k}=w,C=(A=e,Object(b.h)(A.extended_info||{}));var A;const E=Object(n.getNewPath)(o,"/analytics/orders",{filter:"advanced",variation_includes:y}),x=Object(l.getAdminLink)(`post.php?post=${O}&action=edit`);return[{display:S?C+" "+Object(a.__)("(Deleted)"," woocommerce-admin"):Object(r.createElement)(i.Link,{href:x,type:"wp-admin"},C),value:C},{display:k,value:k},{display:Object(s.formatValue)(_(),"number",t),value:t},{display:m(c),value:u(c)},{display:Object(r.createElement)(i.Link,{href:E,type:"wc-admin"},j),value:j},"yes"===p?{display:Object(d.a)(f,h,g)?Object(r.createElement)(i.Link,{href:x,type:"wp-admin"},Object(a._x)("Low","Indication of a low quantity","woocommerce-admin")):v[f],value:v[f]}:null,"yes"===p?{display:h,value:h}:null].filter(Boolean)})}getSummary(e){const{variations_count:t=0,items_sold:o=0,net_revenue:r=0,orders_count:c=0}=e,{formatAmount:i,getCurrencyConfig:n}=this.context,l=n();return[{label:Object(a._n)("variation sold","variations sold",t,"woocommerce-admin"),value:Object(s.formatValue)(l,"number",t)},{label:Object(a._n)("item sold","items sold",o,"woocommerce-admin"),value:Object(s.formatValue)(l,"number",o)},{label:Object(a.__)("net sales","woocommerce-admin"),value:i(r)},{label:Object(a._n)("orders","orders",c,"woocommerce-admin"),value:Object(s.formatValue)(l,"number",c)}]}render(){const{advancedFilters:e,baseSearchQuery:t,filters:o,isRequesting:c,query:i}=this.props,n={helpText:Object(a.__)("Check at least two variations below to compare","woocommerce-admin"),placeholder:Object(a.__)("Search by variation name or SKU","woocommerce-admin")};return Object(r.createElement)(m.a,{baseSearchQuery:t,compareBy:"variations",compareParam:"filter-variations",endpoint:"variations",getHeadersContent:this.getHeadersContent,getRowsContent:this.getRowsContent,isRequesting:c,itemIdField:"variation_id",labels:n,query:i,getSummary:this.getSummary,summaryFields:["variations_count","items_sold","net_revenue","orders_count"],tableQuery:{orderby:i.orderby||"items_sold",order:i.order||"desc",extended_info:!0,product_includes:i.product_includes,variations:i.variations},title:Object(a.__)("Variations","woocommerce-admin"),columnPrefsKey:"variations_report_columns",filters:o,advancedFilters:e})}}j.contextType=u.a,t.a=j}}]);